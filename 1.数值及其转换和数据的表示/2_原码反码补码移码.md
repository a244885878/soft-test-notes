> 计算器中参与运算使用的是 `补码`

`原码` => `反码` => `补码` => `移码`

### 1. 真值与机器数

**机器数**：各种数据再计算机中表示的形式称为机器数，其特点是数的符号位用`0` `1` 表示，`0正` `1负`

- 无符号数
  - 表示正数，没有符号位
- 有符号数
  - 原码
  - 反码
  - 补码
  - 移码

**默认情况下，符号位占 1 位，数值占 7 位，共 8 位**

### 2. 正数的原码反码补码

+73 机器数：01001001 `(将 10 进制转换成二进制，不足的补 0)`

> 正数的原码反码补码全部等于机器数

### 3. 负数的原码反码补码

-73 机器数：11001001

- 原码：11001001
- 反码：10110110 `符号位不变，其他取反`
- 补码：10110111 `末尾+1，如果已经是1了，要进位`

### 4. 移码

补码的基础上将**符号位取反**, **移码只能表示整数**

+73 的移码：11001001
-73 的移码：00110111

### 5. 补码、原码、反码的正负数表示范围

补码、原码、反码的表示范围，核心取决于**编码位数（字长）**，不同字长（如 8 位、16 位）的范围不同。以下以最常用的 **8 位**和 **16 位**为例，清晰对比三者的正负数表示范围（以 “符号位 + 数值位” 为基础结构）：

##### 一、核心规则：符号位固定占 1 位

无论哪种编码，**最高位（最左侧）均为符号位：**

- 符号位 = 0 → 正数
- 符号位 = 1 → 负数
- 剩余位数为 “数值位”，决定数值的最大绝对值。

##### 二、8 位编码：范围对比（最常用）

8 位编码 = 1 位符号位 + 7 位数值位，具体范围如下表：

- 原码：-127 ~ +127
- 反码：-127 ~ +127
- 补码：-128 ~ +127

##### 三、16 位编码：范围对比（扩展场景）

16 位编码 = 1 位符号位 + 15 位数值位，范围按比例扩展：

- 原码：-32767 ~ +32767
- 反码：-32767 ~ +32767
- -32768 ~ +32767

##### 四、通用规律（任意 n 位编码，n≥2）

若编码总位数为 n 位（1 位符号位 + n-1 位数值位），则：

1. 原码 / 反码：
   1. 正数范围：\(0 ~ +(2^{n-1} - 1)\)
   2. 负数范围：\(-(2^{n-1} - 1) ~ -0\)（即\(-(2^{n-1} - 1) ~ 0\)）
   3. 整体范围：\(-(2^{n-1} - 1) ~ +(2^{n-1} - 1)\)
2. 补码：
   1. 正数范围：\(0 ~ +(2^{n-1} - 1)\)（与原码 / 反码一致）
   2. 负数范围：\(-2^{n-1} ~ -1\)（比原码 / 反码多 1 个最小负数）
   3. 整体范围：\(-2^{n-1} ~ +(2^{n-1} - 1)\)

##### 核心总结

- **原码 / 反码**：范围对称但存在 “-0” 冗余，负数最大绝对值 = 正数最大绝对值（如 8 位均为 127）。
- **补码**：无 “-0”，负数范围比原码 / 反码多 1 个最小负数（如 8 位多 - 128，16 位多 - 32768），这也是计算机用补码做运算的关键原因（避免冗余、简化减法）。

| 表示方式 | 正数表示        | 负数表示          | 零的情况                 | 表示范围                        |
| -------- | --------------- | ----------------- | ------------------------ | ------------------------------- |
| **原码** | 符号位 0+绝对值 | 符号位 1+绝对值   | 两个零（+0，-0）         | $-(2^{n-1}-1) \sim (2^{n-1}-1)$ |
| **反码** | 同原码          | 符号位 1+按位取反 | 两个零（+0，-0）         | $-(2^{n-1}-1) \sim (2^{n-1}-1)$ |
| **补码** | 同原码          | 反码+1            | 一个零                   | $-2^{n-1} \sim (2^{n-1}-1)$     |
| **移码** | 真值+偏置       | 真值+偏置         | 一个零（但偏移后不直观） | $-2^{n-1} \sim (2^{n-1}-1)$     |

| 表示法 | 最小值 | 最大值 | 零的个数       |
| ------ | ------ | ------ | -------------- |
| 原码   | -127   | +127   | 2 个（+0, -0） |
| 反码   | -127   | +127   | 2 个（+0, -0） |
| 补码   | -128   | +127   | 1 个           |
| 移码   | -128   | +127   | 1 个           |

## 真题

#### 1.采用 n 位补码、包含一个符号位、表示数据，可以表示什么？

- A、$2^{n}$
- B、$-2^{n}$
- C、$2^{n-1}$
- D、$-2^{n-1}$

**答案 D**

你可以把补码想象成`「把一半的数用来表示负数，一半用来表示非负数」`。

- 最大的负数就是 $-2^{n-1}$
- 最大的正数就是 $2^{n-1}-1$

符合条件的只有 $-2^{n-1}$

#### 2. 如果 `2X` 的补码 是 `90H` ，那么 `X` 的真值是？

- A、72
- B、-56
- C、56
- D、111

**答案 B**

1. 需要先`将16进制补码`转成`2进制`得到：`1001,0000`
2. 然后将这个`补码`转成`反码`再转成`原码`
   1. 反码：`补码-1`得到`1000,1111`
   2. 原码：符号位不变，取余取反`1111,0000`
3. 将得到的原码转成真值：
   1. **注意**：第 1 个是符号位，不参与计算，应该计算的是 `0111,0000`得到`112`
   2. 将符号位的符号加起来等于 `-112` `-112/2`得到`-56`

补码直接算真值，偷懒法

- 看到符号位 = 1 → 负数
- 快速公式：
- 先得到`16进制90`的`10进制`得到`144`

  $$
  真值 = - (2^n - 补码值)
  $$

  对 8 位来说就是： - (256 - 144) = -112

  一步就得出来了，再除以 2 得 `-56`。
